# Neo4j Configuration for Context Memory Store

# Network connector configuration
server.default_listen_address=0.0.0.0
server.default_advertised_address=localhost

# HTTP Connector
server.http.enabled=true
server.http.listen_address=:7474

# Bolt connector
server.bolt.enabled=true
server.bolt.listen_address=:7687

# Memory settings
server.memory.heap.initial_size=512m
server.memory.heap.max_size=1G
server.memory.pagecache.size=256m

# Transaction settings
db.transaction.timeout=60s
db.transaction.bookmark_ready_timeout=30s

# Security settings
dbms.security.auth_enabled=true
dbms.security.procedures.unrestricted=apoc.*
dbms.security.procedures.allowlist=apoc.*

# Plugin settings
dbms.plugins.directories=plugins
dbms.unmanaged_extension_classes=apoc.*

# Logging
dbms.logs.http.enabled=true
dbms.logs.http.rotation.keep_number=2
dbms.logs.http.rotation.size=10M

# Performance settings
dbms.cypher.planner=cost
dbms.cypher.runtime=pipelined

# APOC settings
apoc.export.file.enabled=true
apoc.import.file.enabled=true
apoc.import.file.use_neo4j_config=true

# Metrics
metrics.enabled=true
metrics.prometheus.enabled=true
metrics.prometheus.endpoint=0.0.0.0:2004

# Query logging for debugging
dbms.logs.query.enabled=true
dbms.logs.query.threshold=5s
dbms.logs.query.parameter_logging_enabled=true
